{"ast":null,"code":"import * as d3 from \"d3\";\nexport default {\n  name: 'MinecraftPage',\n\n  data() {\n    return {\n      data: []\n    };\n  },\n\n  mounted() {\n    this.getData();\n  },\n\n  methods: {\n    getData() {\n      Promise.all([d3.csv(`data/minecraft.csv`, function (d) {\n        return {\n          x: +d[\"x\"],\n          y: +d[\"y\"],\n          name: d[\"name\"]\n        };\n      })]).then(response => {\n        console.log(response[0]);\n        this.data = response[0];\n        this.renderMap();\n      });\n    },\n\n    renderMap() {\n      console.log(\"rendering map\");\n      const container = d3.select(`svg`);\n      const width = d3.select(`svg`).node().getBoundingClientRect().width;\n      const height = d3.select(`svg`).node().getBoundingClientRect().height;\n      let xscale = d3.scaleLinear().domain([-2000, 2000]).range([0, width]);\n      let yscale = d3.scaleLinear().domain([-2000, 2000]).range([height, 0]); // Init Svg\n\n      container.append('svg').attr('width', width).attr('height', height).attr('id', `map-svg`).append('g').attr(\"id\", `map-g`);\n      let tickPadding = 2.5;\n      const y = d3.axisLeft(yscale).ticks(100).tickPadding(tickPadding).innerHeight(100);\n      svg.append(\"g\").attr(\"class\", \"axis y\").attr(\"transform\", `translate(0,0)`).call(y);\n      const x = d3.axisBottom().scale(xscale).ticks(100).tickPadding(tickPadding);\n      svg.append(\"g\").attr(\"class\", \"axis x\").attr(\"transform\", `translate(0,${height})`).call(x);\n      let scatterPt = container.selectAll(\".scatter-pt\").data(this.data);\n      scatterPt.exit().remove();\n      scatterPt.enter().append(\"g\").merge(scatterPt).attr(\"class\", \"scatter-pt\").attr(\"transform\", d => `translate(${xscale(d.x)}, ${yscale(d.y)})`).each(function (d) {\n        d3.select(this).append(\"circle\").attr(\"r\", 5).attr(\"fill\", \"white\").attr(\"fill-opacity\", .5);\n        d3.select(this).append(\"text\").attr(\"x\", 10).attr(\"y\", 5).text(d.name).attr(\"fill\", \"white\");\n      });\n    }\n\n  },\n  watch: {}\n};","map":{"version":3,"mappings":"AAOA;AAEA;EACAA,qBADA;;EAEAC;IACA;MACAA;IADA;EAGA,CANA;;EAOAC;IACA;EACA,CATA;;EAUAC;IACAC;MAEAC,aACAC;QACA;UACAC,UADA;UAEAC,UAFA;UAGAR;QAHA;MAKA,CANA,CADA,GAQAS,IARA,CAQAC;QACAC;QACA;QACA;MACA,CAZA;IAaA,CAhBA;;IAiBAC;MACAD;MACA;MACA;MACA;MACA;MACA,uEANA,CAQA;;MACAE,wBACAC,IADA,CACA,OADA,EACAC,KADA,EAEAD,IAFA,CAEA,QAFA,EAEAE,MAFA,EAGAF,IAHA,CAGA,IAHA,EAGA,SAHA,EAIAG,MAJA,CAIA,GAJA,EAKAH,IALA,CAKA,IALA,EAKA,OALA;MASA;MAEA,8BACAI,KADA,CACA,GADA,EAEAC,WAFA,CAEAA,WAFA,EAGAC,WAHA,CAGA,GAHA;MAKAC,gBACAP,IADA,CACA,OADA,EACA,QADA,EAEAA,IAFA,CAEA,WAFA,EAEA,gBAFA,EAGAQ,IAHA,CAGAd,CAHA;MAKA,0BACAe,KADA,CACAC,MADA,EAEAN,KAFA,CAEA,GAFA,EAGAC,WAHA,CAGAA,WAHA;MAKAE,gBACAP,IADA,CACA,OADA,EACA,QADA,EAEAA,IAFA,CAEA,WAFA,EAEA,wBAFA,EAGAQ,IAHA,CAGAf,CAHA;MAOA,mDACAN,IADA,CACA,SADA;MAGAwB;MACAA,UACAC,KADA,GAEAT,MAFA,CAEA,GAFA,EAGAU,KAHA,CAGAF,SAHA,EAIAX,IAJA,CAIA,OAJA,EAIA,YAJA,EAKAA,IALA,CAKA,WALA,EAKAc,gDALA,EAMAC,IANA,CAMA;QACAvB,iCACAQ,IADA,CACA,GADA,EACA,CADA,EAEAA,IAFA,CAEA,MAFA,EAEA,OAFA,EAGAA,IAHA,CAGA,cAHA,EAGA,EAHA;QAKAR,+BACAQ,IADA,CACA,GADA,EACA,EADA,EAEAA,IAFA,CAEA,GAFA,EAEA,CAFA,EAGAgB,IAHA,CAGAF,MAHA,EAIAd,IAJA,CAIA,MAJA,EAIA,OAJA;MAKA,CAjBA;IAoBA;;EAnFA,CAVA;EA+FAiB;AA/FA","names":["name","data","mounted","methods","getData","Promise","d3","x","y","then","response","console","renderMap","container","attr","width","height","append","ticks","tickPadding","innerHeight","svg","call","scale","xscale","scatterPt","enter","merge","d","each","text","watch"],"sourceRoot":"src/pages","sources":["MinecraftPage.vue"],"sourcesContent":["<template>\n    <v-container>\n    <h1>Minecraft Map</h1>\n    <svg width=\"800\" height=\"800\"></svg>\n    </v-container>\n</template>\n<script>\n  import * as d3 from \"d3\";\n\nexport default {\n  name: 'MinecraftPage',\n      data () {\n        return {\n        data: []\n        }\n      },\n      mounted(){\n        this.getData()\n      },\n      methods: {\n         getData() {\n\n          Promise.all([\n              d3.csv(`data/minecraft.csv`, function(d){\n                  return {\n                    x: +d[\"x\"],\n                    y: +d[\"y\"],\n                    name: d[\"name\"]\n                  }\n              })\n            ]).then(response=>{\nconsole.log(response[0])\n                this.data = response[0]\n                this.renderMap()\n          })\n        },\n        renderMap(){\n            console.log(\"rendering map\")\n            const container = d3.select(`svg`)\n            const width = d3.select(`svg`).node().getBoundingClientRect().width;\n            const height = d3.select(`svg`).node().getBoundingClientRect().height;\n            let xscale = d3.scaleLinear().domain([-2000,2000]).range([0, width])\n            let yscale = d3.scaleLinear().domain([-2000,2000]).range([height, 0])\n\n        // Init Svg\n        container.append('svg')\n        .attr('width', width)\n        .attr('height', height)\n        .attr('id', `map-svg`)\n        .append('g')\n        .attr(\"id\", `map-g`)\n\n\n\n     let   tickPadding = 2.5;\n\nconst y = d3.axisLeft(yscale) \n.ticks(100)\n.tickPadding(tickPadding)\n.innerHeight(100)\n\nsvg.append(\"g\")\n.attr(\"class\", \"axis y\")\n.attr(\"transform\", `translate(0,0)`)\n.call(y)\n\nconst x = d3.axisBottom()\n.scale(xscale)   \n.ticks(100)\n.tickPadding(tickPadding)\n\nsvg.append(\"g\")\n.attr(\"class\", \"axis x\")\n.attr(\"transform\", `translate(0,${height})`)\n.call(x)\n\n\n\n        let scatterPt = container.selectAll(\".scatter-pt\")\n        .data(this.data)\n\n        scatterPt.exit().remove()\n        scatterPt\n            .enter()\n            .append(\"g\")\n            .merge(scatterPt)\n            .attr(\"class\", \"scatter-pt\")\n            .attr(\"transform\", d=> `translate(${ xscale(d.x)}, ${ yscale(d.y)})`)\n            .each(function(d){\n                d3.select(this).append(\"circle\")\n                .attr(\"r\", 5)\n                .attr(\"fill\", \"white\")\n                .attr(\"fill-opacity\", .5)\n\n                d3.select(this).append(\"text\")\n                .attr(\"x\", 10)\n                .attr(\"y\", 5)\n                .text(d.name)\n                .attr(\"fill\", \"white\")\n            })\n        \n            \n        } \n      },\n      watch: {\n\n      }\n    }\n\n\n</script>\n<style>\n.tick line{\n    stroke: white;\n}\n.tick text{\n    fill: white;\n}\n    h1{\n        text-align:center;\n    }\n    svg{\n        width:100%;\n        height:100%;\n    }\n</style>\n"]},"metadata":{},"sourceType":"module"}